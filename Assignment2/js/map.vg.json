{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "background": "white",
  "padding": 5,
  "width": 1100,
  "height": 500,
  "title": {"text": "Global Suicide Rate from 1990 to 2015", "frame": "group"},
  "data": [
    {
      "name": "source_0",
      "url": "https://raw.githubusercontent.com/AnabellChiew/FIT3179-testrepo/main/W9Homework/js/ne_110m_admin_0_countries.topojson",
      "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
    },
    {"name": "source_2", "values": [{}]},
    {
      "name": "data_0",
      "source": "source_0",
      "transform": [
        {
          "type": "formula",
          "expr": "'Data is not available in ' + datum.properties.NAME",
          "as": "note"
        }
      ]
    },
    {
      "name": "source_1",
      "url": "https://raw.githubusercontent.com/AnabellChiew/FIT3179-testrepo/main/Assignment2/data/suicide-rate-1990-2017.csv",
      "format": {"type": "csv", "delimiter": ","},
      "transform": [
        {
          "type": "lookup",
          "from": "source_0",
          "key": "properties.ISO_A3",
          "fields": ["Code"],
          "as": ["geo"]
        },
        {"type": "filter", "expr": "datum.Year == Select_Year"},
        {"type": "filter", "expr": "isValid(datum[\"geo\"])"},
        {"type": "geojson", "geojson": "geo", "signal": "layer_1_geojson_0"},
        {
          "type": "filter",
          "expr": "isValid(datum[\"Suicide Rate\"]) && isFinite(+datum[\"Suicide Rate\"])"
        }
      ]
    },
    {
      "name": "data_2",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_0_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_0_x", "layer_2_layer_0_y"]
        }
      ]
    },
    {
      "name": "data_3",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_1_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_1_x", "layer_2_layer_1_y"]
        }
      ]
    },
    {
      "name": "data_4",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_2_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_2_x", "layer_2_layer_2_y"]
        }
      ]
    },
    {
      "name": "data_5",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_3_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_3_x", "layer_2_layer_3_y"]
        }
      ]
    },
    {
      "name": "data_6",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_4_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_4_x", "layer_2_layer_4_y"]
        }
      ]
    },
    {
      "name": "data_7",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_5_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_5_x", "layer_2_layer_5_y"]
        }
      ]
    },
    {
      "name": "data_8",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_6_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_6_x", "layer_2_layer_6_y"]
        }
      ]
    },
    {
      "name": "data_9",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_7_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_7_x", "layer_2_layer_7_y"]
        }
      ]
    },
    {
      "name": "data_10",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_8_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_8_x", "layer_2_layer_8_y"]
        }
      ]
    },
    {
      "name": "data_11",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_9_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_9_x", "layer_2_layer_9_y"]
        }
      ]
    },
    {
      "name": "data_12",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_10_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_10_x", "layer_2_layer_10_y"]
        }
      ]
    },
    {
      "name": "data_13",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_11_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_11_x", "layer_2_layer_11_y"]
        }
      ]
    },
    {
      "name": "data_14",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_12_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_12_x", "layer_2_layer_12_y"]
        }
      ]
    },
    {
      "name": "data_15",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_13_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_13_x", "layer_2_layer_13_y"]
        }
      ]
    },
    {
      "name": "data_16",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_14_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_14_x", "layer_2_layer_14_y"]
        }
      ]
    },
    {
      "name": "data_17",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_15_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_15_x", "layer_2_layer_15_y"]
        }
      ]
    },
    {
      "name": "data_18",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_16_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_16_x", "layer_2_layer_16_y"]
        }
      ]
    },
    {
      "name": "data_19",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_17_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_17_x", "layer_2_layer_17_y"]
        }
      ]
    },
    {
      "name": "data_20",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_18_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_18_x", "layer_2_layer_18_y"]
        }
      ]
    },
    {
      "name": "data_21",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_19_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_19_x", "layer_2_layer_19_y"]
        }
      ]
    },
    {
      "name": "data_22",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_20_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_20_x", "layer_2_layer_20_y"]
        }
      ]
    },
    {
      "name": "data_23",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_21_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_21_x", "layer_2_layer_21_y"]
        }
      ]
    },
    {
      "name": "data_24",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_22_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_22_x", "layer_2_layer_22_y"]
        }
      ]
    },
    {
      "name": "data_25",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_23_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_23_x", "layer_2_layer_23_y"]
        }
      ]
    },
    {
      "name": "data_26",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_24_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_24_x", "layer_2_layer_24_y"]
        }
      ]
    },
    {
      "name": "data_27",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_25_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_25_x", "layer_2_layer_25_y"]
        }
      ]
    },
    {
      "name": "data_28",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_26_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_26_x", "layer_2_layer_26_y"]
        }
      ]
    },
    {
      "name": "data_29",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_27_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_27_x", "layer_2_layer_27_y"]
        }
      ]
    },
    {
      "name": "data_30",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_28_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_28_x", "layer_2_layer_28_y"]
        }
      ]
    },
    {
      "name": "data_31",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_29_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_29_x", "layer_2_layer_29_y"]
        }
      ]
    },
    {
      "name": "data_32",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_30_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_30_x", "layer_2_layer_30_y"]
        }
      ]
    },
    {
      "name": "data_33",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_31_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_31_x", "layer_2_layer_31_y"]
        }
      ]
    },
    {
      "name": "data_34",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_32_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_32_x", "layer_2_layer_32_y"]
        }
      ]
    },
    {
      "name": "data_35",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_33_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_33_x", "layer_2_layer_33_y"]
        }
      ]
    },
    {
      "name": "data_36",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_34_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_34_x", "layer_2_layer_34_y"]
        }
      ]
    },
    {
      "name": "data_37",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_35_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_35_x", "layer_2_layer_35_y"]
        }
      ]
    },
    {
      "name": "data_38",
      "source": "source_2",
      "transform": [
        {
          "type": "geojson",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "signal": "layer_2_layer_36_geojson_0"
        },
        {
          "type": "geopoint",
          "projection": "projection",
          "fields": [{"expr": "-160"}, {"expr": "0"}],
          "as": ["layer_2_layer_36_x", "layer_2_layer_36_y"]
        }
      ]
    }
  ],
  "projections": [
    {
      "name": "projection",
      "size": {"signal": "[width, height]"},
      "fit": {
        "signal": "[data('data_0'), layer_1_geojson_0, layer_2_layer_0_geojson_0, layer_2_layer_1_geojson_0, layer_2_layer_2_geojson_0, layer_2_layer_3_geojson_0, layer_2_layer_4_geojson_0, layer_2_layer_5_geojson_0, layer_2_layer_6_geojson_0, layer_2_layer_7_geojson_0, layer_2_layer_8_geojson_0, layer_2_layer_9_geojson_0, layer_2_layer_10_geojson_0, layer_2_layer_11_geojson_0, layer_2_layer_12_geojson_0, layer_2_layer_13_geojson_0, layer_2_layer_14_geojson_0, layer_2_layer_15_geojson_0, layer_2_layer_16_geojson_0, layer_2_layer_17_geojson_0, layer_2_layer_18_geojson_0, layer_2_layer_19_geojson_0, layer_2_layer_20_geojson_0, layer_2_layer_21_geojson_0, layer_2_layer_22_geojson_0, layer_2_layer_23_geojson_0, layer_2_layer_24_geojson_0, layer_2_layer_25_geojson_0, layer_2_layer_26_geojson_0, layer_2_layer_27_geojson_0, layer_2_layer_28_geojson_0, layer_2_layer_29_geojson_0, layer_2_layer_30_geojson_0, layer_2_layer_31_geojson_0, layer_2_layer_32_geojson_0, layer_2_layer_33_geojson_0, layer_2_layer_34_geojson_0, layer_2_layer_35_geojson_0, layer_2_layer_36_geojson_0]"
      },
      "type": "equirectangular"
    }
  ],
  "signals": [
    {
      "name": "Select_Year",
      "value": 2015,
      "bind": {"input": "range", "min": 1990, "max": 2015, "step": 1}
    }
  ],
  "marks": [
    {
      "name": "layer_0_marks",
      "type": "shape",
      "style": ["geoshape"],
      "from": {"data": "data_0"},
      "encode": {
        "update": {
          "fill": {"value": "#ddd"},
          "stroke": {"value": "white"},
          "strokeWidth": {"value": 1},
          "tooltip": {
            "signal": "isValid(datum[\"note\"]) ? datum[\"note\"] : \"\"+datum[\"note\"]"
          },
          "ariaRoleDescription": {"value": "geoshape"},
          "description": {
            "signal": "\"note: \" + (isValid(datum[\"note\"]) ? datum[\"note\"] : \"\"+datum[\"note\"])"
          }
        }
      },
      "transform": [{"type": "geoshape", "projection": "projection"}]
    },
    {
      "name": "layer_1_marks",
      "type": "shape",
      "style": ["geoshape"],
      "from": {"data": "source_1"},
      "encode": {
        "update": {
          "fill": {"scale": "color", "field": "Suicide Rate"},
          "tooltip": {
            "signal": "{\"Country\": isValid(datum[\"Entity\"]) ? datum[\"Entity\"] : \"\"+datum[\"Entity\"], \"Suicide Rate\": format(datum[\"Suicide Rate\"], \".2f\")}"
          },
          "ariaRoleDescription": {"value": "geoshape"},
          "description": {
            "signal": "\"geo: \" + (isValid(datum[\"geo\"]) ? datum[\"geo\"] : \"\"+datum[\"geo\"]) + \"; Suicide Rate: \" + (format(datum[\"Suicide Rate\"], \"\")) + \"; Country: \" + (isValid(datum[\"Entity\"]) ? datum[\"Entity\"] : \"\"+datum[\"Entity\"])"
          }
        }
      },
      "transform": [
        {
          "type": "geoshape",
          "projection": "projection",
          "field": "datum[\"geo\"]"
        }
      ]
    },
    {
      "name": "layer_2_layer_0_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_2"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2015 is Greenland with a suicide rate",
              "of 52.74."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2015", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_0_x"},
          "y": {"field": "layer_2_layer_0_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_1_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_3"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2014 is Greenland with a suicide rate",
              "of 58.44."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2014", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_1_x"},
          "y": {"field": "layer_2_layer_1_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_2_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_4"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2013 is Greenland with a suicide rate",
              "of 59.43."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2013", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_2_x"},
          "y": {"field": "layer_2_layer_2_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_3_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_5"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2012 is Greenland with a suicide rate",
              "of 60.46."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2012", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_3_x"},
          "y": {"field": "layer_2_layer_3_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_4_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_6"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2011 is Greenland with a suicide rate",
              "of 62.11."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2011", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_4_x"},
          "y": {"field": "layer_2_layer_4_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_5_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_7"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2010 is Greenland with a suicide rate",
              "of 63.99"
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2010", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_5_x"},
          "y": {"field": "layer_2_layer_5_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_6_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_8"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2009 is Greenland with a suicide rate",
              "of 65.22."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2009", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_6_x"},
          "y": {"field": "layer_2_layer_6_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_7_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_9"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2008 is Greenland with a suicide rate",
              "of 66.52."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2008", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_7_x"},
          "y": {"field": "layer_2_layer_7_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_8_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_10"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2007 is Greenland with a suicide rate",
              "of 67.62."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2007", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_8_x"},
          "y": {"field": "layer_2_layer_8_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_9_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_11"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2006 is Greenland with a suicide rate",
              "of 69.80."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2006", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_9_x"},
          "y": {"field": "layer_2_layer_9_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_10_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_12"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2005 is Greenland with a suicide rate",
              "of 71.15."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2005", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_10_x"},
          "y": {"field": "layer_2_layer_10_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_11_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_13"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2004 is Greenland with a suicide rate",
              "of 72.50."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2004", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_11_x"},
          "y": {"field": "layer_2_layer_11_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_12_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_14"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2003 is Greenland with a suicide rate",
              "of 73.56."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2003", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_12_x"},
          "y": {"field": "layer_2_layer_12_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_13_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_15"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2002 is Greenland with a suicide rate",
              "of 75.29."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2002", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_13_x"},
          "y": {"field": "layer_2_layer_13_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_14_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_16"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2001 is Greenland with a suicide rate",
              "of 77.13."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2001", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_14_x"},
          "y": {"field": "layer_2_layer_14_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_15_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_17"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 2000 is Greenland with a suicide rate",
              "of 78.58."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 2000", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_15_x"},
          "y": {"field": "layer_2_layer_15_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_16_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_18"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1999 is Greenland with a suicide rate",
              "of 80.84."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1999", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_16_x"},
          "y": {"field": "layer_2_layer_16_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_17_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_19"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1998 is Greenland with a suicide rate",
              "of 82.87."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1998", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_17_x"},
          "y": {"field": "layer_2_layer_17_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_18_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_20"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1997 is Greenland with a suicide rate",
              "of 84.59."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1997", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_18_x"},
          "y": {"field": "layer_2_layer_18_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_19_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_21"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1996 is Greenland with a suicide rate",
              "of 85.71."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1996", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_19_x"},
          "y": {"field": "layer_2_layer_19_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_20_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_22"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1995 is Greenland with a suicide rate",
              "of 87.05."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1995", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_20_x"},
          "y": {"field": "layer_2_layer_20_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_21_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_23"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1994 is Greenland with a suicide rate",
              "of 89.23."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1994", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_21_x"},
          "y": {"field": "layer_2_layer_21_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_22_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_24"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1993 is Greenland with a suicide rate",
              "of 91.07."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1993", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_22_x"},
          "y": {"field": "layer_2_layer_22_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_23_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_25"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1992 is Greenland with a suicide rate",
              "of 93.23."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1992", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_23_x"},
          "y": {"field": "layer_2_layer_23_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_24_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_26"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1991 is Greenland with a suicide rate",
              "of 96.09."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1991", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_24_x"},
          "y": {"field": "layer_2_layer_24_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_25_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_27"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "text": {
            "value": [
              "The country with highest Suicide Rate",
              "in 1990 is Greenland with a suicide rate",
              "of 98.83."
            ]
          },
          "dx": {"value": -50},
          "dy": {"value": 7},
          "fontSize": {"value": 12},
          "fill": {"value": "black"},
          "opacity": [
            {"test": "Select_Year == 1990", "value": 1},
            {"value": 0}
          ],
          "x": {"field": "layer_2_layer_25_x"},
          "y": {"field": "layer_2_layer_25_y"},
          "baseline": {"value": "middle"}
        }
      }
    },
    {
      "name": "layer_2_layer_26_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_28"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Australia"},
          "dx": {"value": 825},
          "dy": {"value": 110},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_26_x"},
          "y": {"field": "layer_2_layer_26_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_27_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_29"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Greenland"},
          "dx": {"value": 350},
          "dy": {"value": -180},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_27_x"},
          "y": {"field": "layer_2_layer_27_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_28_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_30"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Russia"},
          "dx": {"value": 825},
          "dy": {"value": -230},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_28_x"},
          "y": {"field": "layer_2_layer_28_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_29_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_31"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "United States"},
          "dx": {"value": 35},
          "dy": {"value": -120},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_29_x"},
          "y": {"field": "layer_2_layer_29_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_30_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_32"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Canada"},
          "dx": {"value": 35},
          "dy": {"value": -220},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_30_x"},
          "y": {"field": "layer_2_layer_30_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_31_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_33"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Brazil"},
          "dx": {"value": 325},
          "dy": {"value": 80},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_31_x"},
          "y": {"field": "layer_2_layer_31_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_32_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_34"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": ["New", "Zealand"]},
          "dx": {"value": 950},
          "dy": {"value": 140},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_32_x"},
          "y": {"field": "layer_2_layer_32_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_33_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_35"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Argentina"},
          "dx": {"value": 280},
          "dy": {"value": 130},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_33_x"},
          "y": {"field": "layer_2_layer_33_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_34_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_36"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "India"},
          "dx": {"value": 680},
          "dy": {"value": -10},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_34_x"},
          "y": {"field": "layer_2_layer_34_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_35_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_37"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "Malaysia"},
          "dx": {"value": 710},
          "dy": {"value": -30},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_35_x"},
          "y": {"field": "layer_2_layer_35_y"}
        }
      }
    },
    {
      "name": "layer_2_layer_36_marks",
      "type": "text",
      "style": ["text"],
      "from": {"data": "data_38"},
      "encode": {
        "update": {
          "align": {"value": "left"},
          "baseline": {"value": "top"},
          "text": {"value": "China"},
          "dx": {"value": 825},
          "dy": {"value": -80},
          "fontSize": {"value": 10},
          "fill": {"value": "black"},
          "x": {"field": "layer_2_layer_36_x"},
          "y": {"field": "layer_2_layer_36_y"}
        }
      }
    }
  ],
  "scales": [
    {
      "name": "color",
      "type": "linear",
      "domain": {"data": "source_1", "field": "Suicide Rate"},
      "range": "heatmap",
      "interpolate": "hcl",
      "zero": false
    }
  ],
  "legends": [
    {
      "fill": "color",
      "gradientLength": {"signal": "clamp(height, 64, 200)"},
      "title": "Suicide Rate"
    }
  ],
  "config": {}
}